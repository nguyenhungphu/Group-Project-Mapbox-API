{"id":"src/js/app.js","dependencies":[{"name":"C:\\Users\\nguye\\OneDrive - mitt.ca\\VS code\\front end 2020\\Week 14\\wed\\map\\package.json","includedInParent":true,"mtime":1609960571443},{"name":"haversine","loc":{"line":24,"column":26},"parent":"C:\\Users\\nguye\\OneDrive - mitt.ca\\VS code\\front end 2020\\Week 14\\wed\\map\\src\\js\\app.js","resolved":"C:\\Users\\nguye\\OneDrive - mitt.ca\\VS code\\front end 2020\\Week 14\\wed\\map\\node_modules\\haversine\\haversine.js"}],"generated":{"js":"// phase 1: Get location, draw a map, center the map on this location and drop a marker\n// . detect user location using Geolocation API\n// . import Mapbox GL JS library \n// . drop a marker indicating curr location\n// phase 2: Using user location, perform a foward geocode for POI, determine distance\n// to each and display them\n// . Forward geocode a location. Forward Geocoding converts location text into geographic coordinates\n// . Use users current location, to help set the proximity when forward geocoding\n// . Figure out how to calculate the distance between 2 sets of coordinates. \n// . Sort the POI returned by the forward geocoding based on distance to the user, in ascending order.\n// . output the listing\n// phase 3: User can click on POI, and map will adjust to drop new marker n recenter on that POI\n// . Add an event listener to your points-of-interest list\n// . Remove the existing marker, drop a new marker and recenter the map\n//  Other requirement:\n// . You should only retrieve poi from your forward geocode.\n// . You should retrieve the maximum results possible (10) from your forward geocode.\nvar token = 'pk.eyJ1Ijoibmd1eWVuaHVuZ3BodTc3NyIsImEiOiJja2psanoxOXAwemg5MnFxeXQyMHV6M2s4In0.Mmge4RRo03t0OWuVuHSdKQ';\nvar POI = document.querySelector('.points-of-interest');\nvar form = document.querySelector('form');\n\nvar haversine = require('haversine');\n\nvar long, lat;\n\nfunction getLocation() {\n  if ('geolocation' in navigator) {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      long = position.coords.longitude;\n      lat = position.coords.latitude;\n      success(long, lat);\n    });\n  }\n\n  POI.innerHTML = \"\";\n}\n\nfunction renderPOI(arrayOfPOI) {\n  POI.innerHTML = \"\";\n  arrayOfPOI.features.forEach(function (element) {\n    var locationAddress = element['place_name'].split(',');\n    var start = {\n      latitude: lat,\n      longitude: long\n    };\n    var end = {\n      latitude: element.center[1],\n      longitude: element.center[0]\n    };\n    var distance = haversine(start, end, {\n      unit: 'meter'\n    });\n    POI.insertAdjacentHTML('beforeend', \"\\n    <li class=\\\"poi\\\" data-long=\".concat(element.center[0], \" data-lat=\").concat(element.center[1], \">\\n    <ul>\\n      <li class=\\\"name\\\">\").concat(element.text, \"\\n      </li><li class=\\\"street-address\\\">\").concat(locationAddress[1], \"\\n      </li><li class=\\\"distance\\\">\").concat((distance / 1000).toFixed(1), \" Km\\n    </li></ul>\\n    </li>\\n    \"));\n  });\n}\n\nfunction forwardGeoCoding(location) {\n  fetch(\"https://api.mapbox.com/geocoding/v5/mapbox.places/\".concat(location, \".json?&proximity=\").concat(long, \",\").concat(lat, \"&types=poi&limit=10&access_token=pk.eyJ1Ijoibmd1eWVuaHVuZ3BodTc3NyIsImEiOiJja2psanoxOXAwemg5MnFxeXQyMHV6M2s4In0.Mmge4RRo03t0OWuVuHSdKQ\")).then(function (resp) {\n    return resp.json();\n  }).then(function (data) {\n    return renderPOI(data);\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}\n\nfunction success(lon, lat) {\n  mapboxgl.accessToken = token;\n  var map = new mapboxgl.Map({\n    container: 'map',\n    style: 'mapbox://styles/mapbox/streets-v11',\n    center: [lon, lat],\n    zoom: 15\n  });\n  var marker = new mapboxgl.Marker().setLngLat([lon, lat]).addTo(map);\n  POI.addEventListener('click', function (e) {\n    if (e.target.tagName === 'LI') {\n      var longti = e.target.closest('ul > li.poi').getAttribute('data-long');\n      var lati = e.target.closest('ul > li.poi').getAttribute('data-lat');\n      map.flyTo({\n        center: [longti, lati],\n        essential: true\n      });\n      marker.remove();\n      marker.setLngLat([longti, lati]).addTo(map);\n    }\n  });\n}\n\nform.onsubmit = function (e) {\n  var input = e.target.querySelector('input');\n  forwardGeoCoding(input.value);\n  e.preventDefault();\n};\n\nwindow.addEventListener('load', getLocation);"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"src/js/app.js","original":{"line":1,"column":0}},{"generated":{"line":2,"column":0},"source":"src/js/app.js","original":{"line":2,"column":0}},{"generated":{"line":3,"column":0},"source":"src/js/app.js","original":{"line":3,"column":0}},{"generated":{"line":4,"column":0},"source":"src/js/app.js","original":{"line":4,"column":0}},{"generated":{"line":5,"column":0},"source":"src/js/app.js","original":{"line":6,"column":0}},{"generated":{"line":6,"column":0},"source":"src/js/app.js","original":{"line":7,"column":0}},{"generated":{"line":7,"column":0},"source":"src/js/app.js","original":{"line":8,"column":0}},{"generated":{"line":8,"column":0},"source":"src/js/app.js","original":{"line":9,"column":0}},{"generated":{"line":9,"column":0},"source":"src/js/app.js","original":{"line":10,"column":0}},{"generated":{"line":10,"column":0},"source":"src/js/app.js","original":{"line":11,"column":0}},{"generated":{"line":11,"column":0},"source":"src/js/app.js","original":{"line":12,"column":0}},{"generated":{"line":12,"column":0},"source":"src/js/app.js","original":{"line":14,"column":0}},{"generated":{"line":13,"column":0},"source":"src/js/app.js","original":{"line":15,"column":0}},{"generated":{"line":14,"column":0},"source":"src/js/app.js","original":{"line":16,"column":0}},{"generated":{"line":15,"column":0},"source":"src/js/app.js","original":{"line":17,"column":0}},{"generated":{"line":16,"column":0},"source":"src/js/app.js","original":{"line":18,"column":0}},{"generated":{"line":17,"column":0},"source":"src/js/app.js","original":{"line":19,"column":0}},{"generated":{"line":18,"column":0},"source":"src/js/app.js","original":{"line":21,"column":0}},{"name":"token","generated":{"line":18,"column":4},"source":"src/js/app.js","original":{"line":21,"column":6}},{"generated":{"line":18,"column":9},"source":"src/js/app.js","original":{"line":21,"column":11}},{"generated":{"line":18,"column":12},"source":"src/js/app.js","original":{"line":21,"column":14}},{"generated":{"line":18,"column":115},"source":"src/js/app.js","original":{"line":21,"column":0}},{"generated":{"line":19,"column":0},"source":"src/js/app.js","original":{"line":22,"column":0}},{"name":"POI","generated":{"line":19,"column":4},"source":"src/js/app.js","original":{"line":22,"column":6}},{"generated":{"line":19,"column":7},"source":"src/js/app.js","original":{"line":22,"column":9}},{"name":"document","generated":{"line":19,"column":10},"source":"src/js/app.js","original":{"line":22,"column":12}},{"generated":{"line":19,"column":18},"source":"src/js/app.js","original":{"line":22,"column":20}},{"name":"querySelector","generated":{"line":19,"column":19},"source":"src/js/app.js","original":{"line":22,"column":21}},{"generated":{"line":19,"column":32},"source":"src/js/app.js","original":{"line":22,"column":12}},{"generated":{"line":19,"column":33},"source":"src/js/app.js","original":{"line":22,"column":35}},{"generated":{"line":19,"column":54},"source":"src/js/app.js","original":{"line":22,"column":12}},{"generated":{"line":19,"column":55},"source":"src/js/app.js","original":{"line":22,"column":0}},{"generated":{"line":20,"column":0},"source":"src/js/app.js","original":{"line":23,"column":0}},{"name":"form","generated":{"line":20,"column":4},"source":"src/js/app.js","original":{"line":23,"column":6}},{"generated":{"line":20,"column":8},"source":"src/js/app.js","original":{"line":23,"column":10}},{"name":"document","generated":{"line":20,"column":11},"source":"src/js/app.js","original":{"line":23,"column":13}},{"generated":{"line":20,"column":19},"source":"src/js/app.js","original":{"line":23,"column":21}},{"name":"querySelector","generated":{"line":20,"column":20},"source":"src/js/app.js","original":{"line":23,"column":22}},{"generated":{"line":20,"column":33},"source":"src/js/app.js","original":{"line":23,"column":13}},{"generated":{"line":20,"column":34},"source":"src/js/app.js","original":{"line":23,"column":36}},{"generated":{"line":20,"column":40},"source":"src/js/app.js","original":{"line":23,"column":13}},{"generated":{"line":20,"column":41},"source":"src/js/app.js","original":{"line":23,"column":0}},{"generated":{"line":22,"column":0},"source":"src/js/app.js","original":{"line":24,"column":0}},{"name":"haversine","generated":{"line":22,"column":4},"source":"src/js/app.js","original":{"line":24,"column":6}},{"generated":{"line":22,"column":13},"source":"src/js/app.js","original":{"line":24,"column":15}},{"name":"require","generated":{"line":22,"column":16},"source":"src/js/app.js","original":{"line":24,"column":18}},{"generated":{"line":22,"column":23},"source":"src/js/app.js","original":{"line":24,"column":25}},{"generated":{"line":22,"column":24},"source":"src/js/app.js","original":{"line":24,"column":26}},{"generated":{"line":22,"column":35},"source":"src/js/app.js","original":{"line":24,"column":25}},{"generated":{"line":22,"column":36},"source":"src/js/app.js","original":{"line":24,"column":0}},{"generated":{"line":24,"column":0},"source":"src/js/app.js","original":{"line":25,"column":0}},{"name":"long","generated":{"line":24,"column":4},"source":"src/js/app.js","original":{"line":25,"column":4}},{"generated":{"line":24,"column":8},"source":"src/js/app.js","original":{"line":25,"column":0}},{"name":"lat","generated":{"line":24,"column":10},"source":"src/js/app.js","original":{"line":25,"column":10}},{"generated":{"line":24,"column":13},"source":"src/js/app.js","original":{"line":25,"column":0}},{"generated":{"line":26,"column":0},"source":"src/js/app.js","original":{"line":28,"column":0}},{"name":"getLocation","generated":{"line":26,"column":9},"source":"src/js/app.js","original":{"line":28,"column":9}},{"generated":{"line":26,"column":20},"source":"src/js/app.js","original":{"line":28,"column":0}},{"generated":{"line":26,"column":23},"source":"src/js/app.js","original":{"line":28,"column":23}},{"generated":{"line":27,"column":0},"source":"src/js/app.js","original":{"line":29,"column":2}},{"generated":{"line":27,"column":6},"source":"src/js/app.js","original":{"line":29,"column":6}},{"name":"navigator","generated":{"line":27,"column":23},"source":"src/js/app.js","original":{"line":29,"column":23}},{"generated":{"line":27,"column":32},"source":"src/js/app.js","original":{"line":29,"column":2}},{"generated":{"line":27,"column":34},"source":"src/js/app.js","original":{"line":29,"column":34}},{"name":"navigator","generated":{"line":28,"column":0},"source":"src/js/app.js","original":{"line":30,"column":4}},{"name":"navigator","generated":{"line":28,"column":4},"source":"src/js/app.js","original":{"line":30,"column":4}},{"generated":{"line":28,"column":13},"source":"src/js/app.js","original":{"line":30,"column":13}},{"name":"geolocation","generated":{"line":28,"column":14},"source":"src/js/app.js","original":{"line":30,"column":14}},{"generated":{"line":28,"column":25},"source":"src/js/app.js","original":{"line":30,"column":4}},{"name":"getCurrentPosition","generated":{"line":28,"column":26},"source":"src/js/app.js","original":{"line":30,"column":26}},{"generated":{"line":28,"column":44},"source":"src/js/app.js","original":{"line":30,"column":4}},{"generated":{"line":28,"column":45},"source":"src/js/app.js","original":{"line":30,"column":45}},{"name":"position","generated":{"line":28,"column":55},"source":"src/js/app.js","original":{"line":30,"column":45}},{"generated":{"line":28,"column":63},"source":"src/js/app.js","original":{"line":30,"column":53}},{"generated":{"line":28,"column":65},"source":"src/js/app.js","original":{"line":30,"column":57}},{"name":"long","generated":{"line":29,"column":0},"source":"src/js/app.js","original":{"line":31,"column":6}},{"name":"long","generated":{"line":29,"column":6},"source":"src/js/app.js","original":{"line":31,"column":6}},{"generated":{"line":29,"column":10},"source":"src/js/app.js","original":{"line":31,"column":10}},{"name":"position","generated":{"line":29,"column":13},"source":"src/js/app.js","original":{"line":31,"column":13}},{"generated":{"line":29,"column":21},"source":"src/js/app.js","original":{"line":31,"column":21}},{"name":"coords","generated":{"line":29,"column":22},"source":"src/js/app.js","original":{"line":31,"column":22}},{"generated":{"line":29,"column":28},"source":"src/js/app.js","original":{"line":31,"column":13}},{"name":"longitude","generated":{"line":29,"column":29},"source":"src/js/app.js","original":{"line":31,"column":29}},{"generated":{"line":29,"column":38},"source":"src/js/app.js","original":{"line":31,"column":6}},{"name":"lat","generated":{"line":30,"column":0},"source":"src/js/app.js","original":{"line":32,"column":6}},{"name":"lat","generated":{"line":30,"column":6},"source":"src/js/app.js","original":{"line":32,"column":6}},{"generated":{"line":30,"column":9},"source":"src/js/app.js","original":{"line":32,"column":9}},{"name":"position","generated":{"line":30,"column":12},"source":"src/js/app.js","original":{"line":32,"column":12}},{"generated":{"line":30,"column":20},"source":"src/js/app.js","original":{"line":32,"column":20}},{"name":"coords","generated":{"line":30,"column":21},"source":"src/js/app.js","original":{"line":32,"column":21}},{"generated":{"line":30,"column":27},"source":"src/js/app.js","original":{"line":32,"column":12}},{"name":"latitude","generated":{"line":30,"column":28},"source":"src/js/app.js","original":{"line":32,"column":28}},{"generated":{"line":30,"column":36},"source":"src/js/app.js","original":{"line":32,"column":6}},{"name":"success","generated":{"line":31,"column":0},"source":"src/js/app.js","original":{"line":33,"column":6}},{"name":"success","generated":{"line":31,"column":6},"source":"src/js/app.js","original":{"line":33,"column":6}},{"generated":{"line":31,"column":13},"source":"src/js/app.js","original":{"line":33,"column":13}},{"name":"long","generated":{"line":31,"column":14},"source":"src/js/app.js","original":{"line":33,"column":14}},{"generated":{"line":31,"column":18},"source":"src/js/app.js","original":{"line":33,"column":13}},{"name":"lat","generated":{"line":31,"column":20},"source":"src/js/app.js","original":{"line":33,"column":20}},{"generated":{"line":31,"column":23},"source":"src/js/app.js","original":{"line":33,"column":13}},{"generated":{"line":31,"column":24},"source":"src/js/app.js","original":{"line":33,"column":6}},{"generated":{"line":32,"column":0},"source":"src/js/app.js","original":{"line":34,"column":5}},{"generated":{"line":32,"column":5},"source":"src/js/app.js","original":{"line":30,"column":4}},{"generated":{"line":33,"column":0},"source":"src/js/app.js","original":{"line":35,"column":3}},{"name":"POI","generated":{"line":35,"column":0},"source":"src/js/app.js","original":{"line":36,"column":2}},{"name":"POI","generated":{"line":35,"column":2},"source":"src/js/app.js","original":{"line":36,"column":2}},{"generated":{"line":35,"column":5},"source":"src/js/app.js","original":{"line":36,"column":5}},{"name":"innerHTML","generated":{"line":35,"column":6},"source":"src/js/app.js","original":{"line":36,"column":6}},{"generated":{"line":35,"column":15},"source":"src/js/app.js","original":{"line":36,"column":2}},{"generated":{"line":35,"column":18},"source":"src/js/app.js","original":{"line":36,"column":18}},{"generated":{"line":35,"column":20},"source":"src/js/app.js","original":{"line":36,"column":2}},{"generated":{"line":36,"column":0},"source":"src/js/app.js","original":{"line":37,"column":1}},{"generated":{"line":38,"column":0},"source":"src/js/app.js","original":{"line":39,"column":0}},{"name":"renderPOI","generated":{"line":38,"column":9},"source":"src/js/app.js","original":{"line":39,"column":9}},{"generated":{"line":38,"column":18},"source":"src/js/app.js","original":{"line":39,"column":0}},{"name":"arrayOfPOI","generated":{"line":38,"column":19},"source":"src/js/app.js","original":{"line":39,"column":19}},{"generated":{"line":38,"column":29},"source":"src/js/app.js","original":{"line":39,"column":0}},{"generated":{"line":38,"column":31},"source":"src/js/app.js","original":{"line":39,"column":31}},{"name":"POI","generated":{"line":39,"column":0},"source":"src/js/app.js","original":{"line":40,"column":2}},{"name":"POI","generated":{"line":39,"column":2},"source":"src/js/app.js","original":{"line":40,"column":2}},{"generated":{"line":39,"column":5},"source":"src/js/app.js","original":{"line":40,"column":5}},{"name":"innerHTML","generated":{"line":39,"column":6},"source":"src/js/app.js","original":{"line":40,"column":6}},{"generated":{"line":39,"column":15},"source":"src/js/app.js","original":{"line":40,"column":2}},{"generated":{"line":39,"column":18},"source":"src/js/app.js","original":{"line":40,"column":18}},{"generated":{"line":39,"column":20},"source":"src/js/app.js","original":{"line":40,"column":2}},{"name":"arrayOfPOI","generated":{"line":40,"column":0},"source":"src/js/app.js","original":{"line":41,"column":2}},{"name":"arrayOfPOI","generated":{"line":40,"column":2},"source":"src/js/app.js","original":{"line":41,"column":2}},{"generated":{"line":40,"column":12},"source":"src/js/app.js","original":{"line":41,"column":12}},{"name":"features","generated":{"line":40,"column":13},"source":"src/js/app.js","original":{"line":41,"column":13}},{"generated":{"line":40,"column":21},"source":"src/js/app.js","original":{"line":41,"column":2}},{"name":"forEach","generated":{"line":40,"column":22},"source":"src/js/app.js","original":{"line":41,"column":22}},{"generated":{"line":40,"column":29},"source":"src/js/app.js","original":{"line":41,"column":2}},{"generated":{"line":40,"column":30},"source":"src/js/app.js","original":{"line":41,"column":30}},{"name":"element","generated":{"line":40,"column":40},"source":"src/js/app.js","original":{"line":41,"column":30}},{"generated":{"line":40,"column":47},"source":"src/js/app.js","original":{"line":41,"column":37}},{"generated":{"line":40,"column":49},"source":"src/js/app.js","original":{"line":41,"column":41}},{"generated":{"line":41,"column":0},"source":"src/js/app.js","original":{"line":43,"column":4}},{"name":"locationAddress","generated":{"line":41,"column":8},"source":"src/js/app.js","original":{"line":43,"column":8}},{"generated":{"line":41,"column":23},"source":"src/js/app.js","original":{"line":43,"column":23}},{"name":"element","generated":{"line":41,"column":26},"source":"src/js/app.js","original":{"line":43,"column":26}},{"generated":{"line":41,"column":33},"source":"src/js/app.js","original":{"line":43,"column":33}},{"generated":{"line":41,"column":34},"source":"src/js/app.js","original":{"line":43,"column":34}},{"generated":{"line":41,"column":46},"source":"src/js/app.js","original":{"line":43,"column":33}},{"generated":{"line":41,"column":47},"source":"src/js/app.js","original":{"line":43,"column":26}},{"name":"split","generated":{"line":41,"column":48},"source":"src/js/app.js","original":{"line":43,"column":48}},{"generated":{"line":41,"column":53},"source":"src/js/app.js","original":{"line":43,"column":26}},{"generated":{"line":41,"column":54},"source":"src/js/app.js","original":{"line":43,"column":54}},{"generated":{"line":41,"column":57},"source":"src/js/app.js","original":{"line":43,"column":26}},{"generated":{"line":41,"column":58},"source":"src/js/app.js","original":{"line":43,"column":4}},{"generated":{"line":42,"column":0},"source":"src/js/app.js","original":{"line":44,"column":4}},{"name":"start","generated":{"line":42,"column":8},"source":"src/js/app.js","original":{"line":44,"column":8}},{"generated":{"line":42,"column":13},"source":"src/js/app.js","original":{"line":44,"column":13}},{"generated":{"line":42,"column":16},"source":"src/js/app.js","original":{"line":44,"column":16}},{"name":"latitude","generated":{"line":43,"column":0},"source":"src/js/app.js","original":{"line":44,"column":18}},{"name":"latitude","generated":{"line":43,"column":6},"source":"src/js/app.js","original":{"line":44,"column":18}},{"generated":{"line":43,"column":14},"source":"src/js/app.js","original":{"line":44,"column":26}},{"name":"lat","generated":{"line":43,"column":16},"source":"src/js/app.js","original":{"line":44,"column":28}},{"generated":{"line":43,"column":19},"source":"src/js/app.js","original":{"line":44,"column":16}},{"name":"longitude","generated":{"line":44,"column":0},"source":"src/js/app.js","original":{"line":44,"column":33}},{"name":"longitude","generated":{"line":44,"column":6},"source":"src/js/app.js","original":{"line":44,"column":33}},{"generated":{"line":44,"column":15},"source":"src/js/app.js","original":{"line":44,"column":42}},{"name":"long","generated":{"line":44,"column":17},"source":"src/js/app.js","original":{"line":44,"column":44}},{"generated":{"line":45,"column":0},"source":"src/js/app.js","original":{"line":44,"column":16}},{"generated":{"line":45,"column":5},"source":"src/js/app.js","original":{"line":44,"column":4}},{"generated":{"line":46,"column":0},"source":"src/js/app.js","original":{"line":45,"column":4}},{"name":"end","generated":{"line":46,"column":8},"source":"src/js/app.js","original":{"line":45,"column":8}},{"generated":{"line":46,"column":11},"source":"src/js/app.js","original":{"line":45,"column":11}},{"generated":{"line":46,"column":14},"source":"src/js/app.js","original":{"line":45,"column":14}},{"name":"latitude","generated":{"line":47,"column":0},"source":"src/js/app.js","original":{"line":45,"column":16}},{"name":"latitude","generated":{"line":47,"column":6},"source":"src/js/app.js","original":{"line":45,"column":16}},{"generated":{"line":47,"column":14},"source":"src/js/app.js","original":{"line":45,"column":24}},{"name":"element","generated":{"line":47,"column":16},"source":"src/js/app.js","original":{"line":45,"column":26}},{"generated":{"line":47,"column":23},"source":"src/js/app.js","original":{"line":45,"column":33}},{"name":"center","generated":{"line":47,"column":24},"source":"src/js/app.js","original":{"line":45,"column":34}},{"generated":{"line":47,"column":30},"source":"src/js/app.js","original":{"line":45,"column":26}},{"generated":{"line":47,"column":31},"source":"src/js/app.js","original":{"line":45,"column":41}},{"generated":{"line":47,"column":32},"source":"src/js/app.js","original":{"line":45,"column":26}},{"generated":{"line":47,"column":33},"source":"src/js/app.js","original":{"line":45,"column":14}},{"name":"longitude","generated":{"line":48,"column":0},"source":"src/js/app.js","original":{"line":45,"column":45}},{"name":"longitude","generated":{"line":48,"column":6},"source":"src/js/app.js","original":{"line":45,"column":45}},{"generated":{"line":48,"column":15},"source":"src/js/app.js","original":{"line":45,"column":54}},{"name":"element","generated":{"line":48,"column":17},"source":"src/js/app.js","original":{"line":45,"column":56}},{"generated":{"line":48,"column":24},"source":"src/js/app.js","original":{"line":45,"column":63}},{"name":"center","generated":{"line":48,"column":25},"source":"src/js/app.js","original":{"line":45,"column":64}},{"generated":{"line":48,"column":31},"source":"src/js/app.js","original":{"line":45,"column":56}},{"generated":{"line":48,"column":32},"source":"src/js/app.js","original":{"line":45,"column":71}},{"generated":{"line":48,"column":33},"source":"src/js/app.js","original":{"line":45,"column":56}},{"generated":{"line":49,"column":0},"source":"src/js/app.js","original":{"line":45,"column":14}},{"generated":{"line":49,"column":5},"source":"src/js/app.js","original":{"line":45,"column":4}},{"generated":{"line":50,"column":0},"source":"src/js/app.js","original":{"line":46,"column":4}},{"name":"distance","generated":{"line":50,"column":8},"source":"src/js/app.js","original":{"line":46,"column":8}},{"generated":{"line":50,"column":16},"source":"src/js/app.js","original":{"line":46,"column":16}},{"name":"haversine","generated":{"line":50,"column":19},"source":"src/js/app.js","original":{"line":46,"column":19}},{"generated":{"line":50,"column":28},"source":"src/js/app.js","original":{"line":46,"column":28}},{"name":"start","generated":{"line":50,"column":29},"source":"src/js/app.js","original":{"line":46,"column":29}},{"generated":{"line":50,"column":34},"source":"src/js/app.js","original":{"line":46,"column":28}},{"name":"end","generated":{"line":50,"column":36},"source":"src/js/app.js","original":{"line":46,"column":36}},{"generated":{"line":50,"column":39},"source":"src/js/app.js","original":{"line":46,"column":28}},{"generated":{"line":50,"column":41},"source":"src/js/app.js","original":{"line":46,"column":41}},{"name":"unit","generated":{"line":51,"column":0},"source":"src/js/app.js","original":{"line":46,"column":43}},{"name":"unit","generated":{"line":51,"column":6},"source":"src/js/app.js","original":{"line":46,"column":43}},{"generated":{"line":51,"column":10},"source":"src/js/app.js","original":{"line":46,"column":47}},{"generated":{"line":51,"column":12},"source":"src/js/app.js","original":{"line":46,"column":49}},{"generated":{"line":52,"column":0},"source":"src/js/app.js","original":{"line":46,"column":41}},{"generated":{"line":52,"column":5},"source":"src/js/app.js","original":{"line":46,"column":28}},{"generated":{"line":52,"column":6},"source":"src/js/app.js","original":{"line":46,"column":4}},{"name":"POI","generated":{"line":53,"column":0},"source":"src/js/app.js","original":{"line":48,"column":4}},{"name":"POI","generated":{"line":53,"column":4},"source":"src/js/app.js","original":{"line":48,"column":4}},{"generated":{"line":53,"column":7},"source":"src/js/app.js","original":{"line":48,"column":7}},{"name":"insertAdjacentHTML","generated":{"line":53,"column":8},"source":"src/js/app.js","original":{"line":48,"column":8}},{"generated":{"line":53,"column":26},"source":"src/js/app.js","original":{"line":48,"column":4}},{"generated":{"line":53,"column":27},"source":"src/js/app.js","original":{"line":48,"column":27}},{"generated":{"line":53,"column":38},"source":"src/js/app.js","original":{"line":48,"column":4}},{"name":"element","generated":{"line":53,"column":84},"source":"src/js/app.js","original":{"line":49,"column":32}},{"generated":{"line":53,"column":91},"source":"src/js/app.js","original":{"line":49,"column":39}},{"name":"center","generated":{"line":53,"column":92},"source":"src/js/app.js","original":{"line":49,"column":40}},{"generated":{"line":53,"column":98},"source":"src/js/app.js","original":{"line":49,"column":32}},{"generated":{"line":53,"column":99},"source":"src/js/app.js","original":{"line":49,"column":47}},{"generated":{"line":53,"column":100},"source":"src/js/app.js","original":{"line":49,"column":32}},{"generated":{"line":53,"column":101},"source":"src/js/app.js","original":{"line":48,"column":4}},{"name":"element","generated":{"line":53,"column":124},"source":"src/js/app.js","original":{"line":49,"column":62}},{"generated":{"line":53,"column":131},"source":"src/js/app.js","original":{"line":49,"column":69}},{"name":"center","generated":{"line":53,"column":132},"source":"src/js/app.js","original":{"line":49,"column":70}},{"generated":{"line":53,"column":138},"source":"src/js/app.js","original":{"line":49,"column":62}},{"generated":{"line":53,"column":139},"source":"src/js/app.js","original":{"line":49,"column":77}},{"generated":{"line":53,"column":140},"source":"src/js/app.js","original":{"line":49,"column":62}},{"generated":{"line":53,"column":141},"source":"src/js/app.js","original":{"line":48,"column":4}},{"name":"element","generated":{"line":53,"column":192},"source":"src/js/app.js","original":{"line":51,"column":25}},{"generated":{"line":53,"column":199},"source":"src/js/app.js","original":{"line":51,"column":32}},{"name":"text","generated":{"line":53,"column":200},"source":"src/js/app.js","original":{"line":51,"column":33}},{"generated":{"line":53,"column":204},"source":"src/js/app.js","original":{"line":48,"column":4}},{"name":"locationAddress","generated":{"line":53,"column":259},"source":"src/js/app.js","original":{"line":52,"column":40}},{"generated":{"line":53,"column":274},"source":"src/js/app.js","original":{"line":52,"column":55}},{"generated":{"line":53,"column":275},"source":"src/js/app.js","original":{"line":52,"column":56}},{"generated":{"line":53,"column":276},"source":"src/js/app.js","original":{"line":52,"column":55}},{"generated":{"line":53,"column":277},"source":"src/js/app.js","original":{"line":48,"column":4}},{"generated":{"line":53,"column":326},"source":"src/js/app.js","original":{"line":53,"column":34}},{"name":"distance","generated":{"line":53,"column":327},"source":"src/js/app.js","original":{"line":53,"column":35}},{"generated":{"line":53,"column":335},"source":"src/js/app.js","original":{"line":53,"column":43}},{"generated":{"line":53,"column":338},"source":"src/js/app.js","original":{"line":53,"column":46}},{"generated":{"line":53,"column":342},"source":"src/js/app.js","original":{"line":53,"column":34}},{"name":"toFixed","generated":{"line":53,"column":344},"source":"src/js/app.js","original":{"line":53,"column":52}},{"generated":{"line":53,"column":351},"source":"src/js/app.js","original":{"line":53,"column":34}},{"generated":{"line":53,"column":352},"source":"src/js/app.js","original":{"line":53,"column":60}},{"generated":{"line":53,"column":353},"source":"src/js/app.js","original":{"line":53,"column":34}},{"generated":{"line":53,"column":354},"source":"src/js/app.js","original":{"line":48,"column":4}},{"generated":{"line":54,"column":0},"source":"src/js/app.js","original":{"line":57,"column":3}},{"generated":{"line":54,"column":3},"source":"src/js/app.js","original":{"line":41,"column":2}},{"generated":{"line":55,"column":0},"source":"src/js/app.js","original":{"line":58,"column":1}},{"generated":{"line":57,"column":0},"source":"src/js/app.js","original":{"line":60,"column":0}},{"name":"forwardGeoCoding","generated":{"line":57,"column":9},"source":"src/js/app.js","original":{"line":60,"column":9}},{"generated":{"line":57,"column":25},"source":"src/js/app.js","original":{"line":60,"column":0}},{"name":"location","generated":{"line":57,"column":26},"source":"src/js/app.js","original":{"line":60,"column":26}},{"generated":{"line":57,"column":34},"source":"src/js/app.js","original":{"line":60,"column":0}},{"generated":{"line":57,"column":36},"source":"src/js/app.js","original":{"line":60,"column":36}},{"name":"fetch","generated":{"line":58,"column":0},"source":"src/js/app.js","original":{"line":61,"column":2}},{"name":"fetch","generated":{"line":58,"column":2},"source":"src/js/app.js","original":{"line":61,"column":2}},{"generated":{"line":58,"column":7},"source":"src/js/app.js","original":{"line":61,"column":7}},{"name":"location","generated":{"line":58,"column":68},"source":"src/js/app.js","original":{"line":61,"column":61}},{"generated":{"line":58,"column":76},"source":"src/js/app.js","original":{"line":61,"column":7}},{"name":"long","generated":{"line":58,"column":106},"source":"src/js/app.js","original":{"line":61,"column":89}},{"generated":{"line":58,"column":110},"source":"src/js/app.js","original":{"line":61,"column":7}},{"name":"lat","generated":{"line":58,"column":124},"source":"src/js/app.js","original":{"line":61,"column":97}},{"generated":{"line":58,"column":127},"source":"src/js/app.js","original":{"line":61,"column":7}},{"generated":{"line":58,"column":267},"source":"src/js/app.js","original":{"line":61,"column":2}},{"name":"then","generated":{"line":58,"column":268},"source":"src/js/app.js","original":{"line":62,"column":5}},{"generated":{"line":58,"column":272},"source":"src/js/app.js","original":{"line":61,"column":2}},{"generated":{"line":58,"column":273},"source":"src/js/app.js","original":{"line":62,"column":10}},{"name":"resp","generated":{"line":58,"column":283},"source":"src/js/app.js","original":{"line":62,"column":10}},{"generated":{"line":58,"column":287},"source":"src/js/app.js","original":{"line":62,"column":14}},{"generated":{"line":59,"column":0},"source":"src/js/app.js","original":{"line":62,"column":14}},{"name":"resp","generated":{"line":59,"column":11},"source":"src/js/app.js","original":{"line":62,"column":18}},{"generated":{"line":59,"column":15},"source":"src/js/app.js","original":{"line":62,"column":22}},{"name":"json","generated":{"line":59,"column":16},"source":"src/js/app.js","original":{"line":62,"column":23}},{"generated":{"line":59,"column":20},"source":"src/js/app.js","original":{"line":62,"column":18}},{"generated":{"line":59,"column":22},"source":"src/js/app.js","original":{"line":62,"column":14}},{"generated":{"line":60,"column":0},"source":"src/js/app.js","original":{"line":62,"column":14}},{"generated":{"line":60,"column":3},"source":"src/js/app.js","original":{"line":61,"column":2}},{"name":"then","generated":{"line":60,"column":5},"source":"src/js/app.js","original":{"line":63,"column":5}},{"generated":{"line":60,"column":9},"source":"src/js/app.js","original":{"line":61,"column":2}},{"generated":{"line":60,"column":10},"source":"src/js/app.js","original":{"line":63,"column":10}},{"name":"data","generated":{"line":60,"column":20},"source":"src/js/app.js","original":{"line":63,"column":10}},{"generated":{"line":60,"column":24},"source":"src/js/app.js","original":{"line":63,"column":14}},{"generated":{"line":61,"column":0},"source":"src/js/app.js","original":{"line":63,"column":14}},{"name":"renderPOI","generated":{"line":61,"column":11},"source":"src/js/app.js","original":{"line":63,"column":18}},{"generated":{"line":61,"column":20},"source":"src/js/app.js","original":{"line":63,"column":27}},{"name":"data","generated":{"line":61,"column":21},"source":"src/js/app.js","original":{"line":63,"column":28}},{"generated":{"line":61,"column":25},"source":"src/js/app.js","original":{"line":63,"column":27}},{"generated":{"line":61,"column":26},"source":"src/js/app.js","original":{"line":63,"column":14}},{"generated":{"line":62,"column":0},"source":"src/js/app.js","original":{"line":63,"column":14}},{"generated":{"line":62,"column":3},"source":"src/js/app.js","original":{"line":61,"column":2}},{"name":"catch","generated":{"line":62,"column":5},"source":"src/js/app.js","original":{"line":64,"column":5}},{"generated":{"line":62,"column":10},"source":"src/js/app.js","original":{"line":61,"column":2}},{"generated":{"line":62,"column":11},"source":"src/js/app.js","original":{"line":64,"column":11}},{"name":"err","generated":{"line":62,"column":21},"source":"src/js/app.js","original":{"line":64,"column":11}},{"generated":{"line":62,"column":24},"source":"src/js/app.js","original":{"line":64,"column":14}},{"generated":{"line":63,"column":0},"source":"src/js/app.js","original":{"line":64,"column":14}},{"name":"console","generated":{"line":63,"column":11},"source":"src/js/app.js","original":{"line":64,"column":18}},{"generated":{"line":63,"column":18},"source":"src/js/app.js","original":{"line":64,"column":25}},{"name":"log","generated":{"line":63,"column":19},"source":"src/js/app.js","original":{"line":64,"column":26}},{"generated":{"line":63,"column":22},"source":"src/js/app.js","original":{"line":64,"column":18}},{"name":"err","generated":{"line":63,"column":23},"source":"src/js/app.js","original":{"line":64,"column":30}},{"generated":{"line":63,"column":26},"source":"src/js/app.js","original":{"line":64,"column":18}},{"generated":{"line":63,"column":27},"source":"src/js/app.js","original":{"line":64,"column":14}},{"generated":{"line":64,"column":0},"source":"src/js/app.js","original":{"line":64,"column":14}},{"generated":{"line":64,"column":3},"source":"src/js/app.js","original":{"line":61,"column":2}},{"generated":{"line":65,"column":0},"source":"src/js/app.js","original":{"line":65,"column":1}},{"generated":{"line":67,"column":0},"source":"src/js/app.js","original":{"line":67,"column":0}},{"name":"success","generated":{"line":67,"column":9},"source":"src/js/app.js","original":{"line":67,"column":9}},{"generated":{"line":67,"column":16},"source":"src/js/app.js","original":{"line":67,"column":0}},{"name":"lon","generated":{"line":67,"column":17},"source":"src/js/app.js","original":{"line":67,"column":17}},{"generated":{"line":67,"column":20},"source":"src/js/app.js","original":{"line":67,"column":0}},{"name":"lat","generated":{"line":67,"column":22},"source":"src/js/app.js","original":{"line":67,"column":22}},{"generated":{"line":67,"column":25},"source":"src/js/app.js","original":{"line":67,"column":0}},{"generated":{"line":67,"column":27},"source":"src/js/app.js","original":{"line":67,"column":27}},{"name":"mapboxgl","generated":{"line":68,"column":0},"source":"src/js/app.js","original":{"line":68,"column":2}},{"name":"mapboxgl","generated":{"line":68,"column":2},"source":"src/js/app.js","original":{"line":68,"column":2}},{"generated":{"line":68,"column":10},"source":"src/js/app.js","original":{"line":68,"column":10}},{"name":"accessToken","generated":{"line":68,"column":11},"source":"src/js/app.js","original":{"line":68,"column":11}},{"generated":{"line":68,"column":22},"source":"src/js/app.js","original":{"line":68,"column":2}},{"name":"token","generated":{"line":68,"column":25},"source":"src/js/app.js","original":{"line":68,"column":25}},{"generated":{"line":68,"column":30},"source":"src/js/app.js","original":{"line":68,"column":2}},{"generated":{"line":69,"column":0},"source":"src/js/app.js","original":{"line":69,"column":2}},{"name":"map","generated":{"line":69,"column":6},"source":"src/js/app.js","original":{"line":69,"column":6}},{"generated":{"line":69,"column":9},"source":"src/js/app.js","original":{"line":69,"column":9}},{"generated":{"line":69,"column":12},"source":"src/js/app.js","original":{"line":69,"column":12}},{"name":"mapboxgl","generated":{"line":69,"column":16},"source":"src/js/app.js","original":{"line":69,"column":16}},{"generated":{"line":69,"column":24},"source":"src/js/app.js","original":{"line":69,"column":24}},{"name":"Map","generated":{"line":69,"column":25},"source":"src/js/app.js","original":{"line":69,"column":25}},{"generated":{"line":69,"column":28},"source":"src/js/app.js","original":{"line":69,"column":12}},{"generated":{"line":69,"column":29},"source":"src/js/app.js","original":{"line":69,"column":29}},{"name":"container","generated":{"line":70,"column":0},"source":"src/js/app.js","original":{"line":70,"column":4}},{"name":"container","generated":{"line":70,"column":4},"source":"src/js/app.js","original":{"line":70,"column":4}},{"generated":{"line":70,"column":13},"source":"src/js/app.js","original":{"line":70,"column":13}},{"generated":{"line":70,"column":15},"source":"src/js/app.js","original":{"line":70,"column":15}},{"generated":{"line":70,"column":20},"source":"src/js/app.js","original":{"line":69,"column":29}},{"name":"style","generated":{"line":71,"column":0},"source":"src/js/app.js","original":{"line":71,"column":4}},{"name":"style","generated":{"line":71,"column":4},"source":"src/js/app.js","original":{"line":71,"column":4}},{"generated":{"line":71,"column":9},"source":"src/js/app.js","original":{"line":71,"column":9}},{"generated":{"line":71,"column":11},"source":"src/js/app.js","original":{"line":71,"column":11}},{"generated":{"line":71,"column":47},"source":"src/js/app.js","original":{"line":69,"column":29}},{"name":"center","generated":{"line":72,"column":0},"source":"src/js/app.js","original":{"line":72,"column":4}},{"name":"center","generated":{"line":72,"column":4},"source":"src/js/app.js","original":{"line":72,"column":4}},{"generated":{"line":72,"column":10},"source":"src/js/app.js","original":{"line":72,"column":10}},{"generated":{"line":72,"column":12},"source":"src/js/app.js","original":{"line":72,"column":12}},{"name":"lon","generated":{"line":72,"column":13},"source":"src/js/app.js","original":{"line":72,"column":13}},{"generated":{"line":72,"column":16},"source":"src/js/app.js","original":{"line":72,"column":12}},{"name":"lat","generated":{"line":72,"column":18},"source":"src/js/app.js","original":{"line":72,"column":18}},{"generated":{"line":72,"column":21},"source":"src/js/app.js","original":{"line":72,"column":12}},{"generated":{"line":72,"column":22},"source":"src/js/app.js","original":{"line":69,"column":29}},{"name":"zoom","generated":{"line":73,"column":0},"source":"src/js/app.js","original":{"line":73,"column":4}},{"name":"zoom","generated":{"line":73,"column":4},"source":"src/js/app.js","original":{"line":73,"column":4}},{"generated":{"line":73,"column":8},"source":"src/js/app.js","original":{"line":73,"column":8}},{"generated":{"line":73,"column":10},"source":"src/js/app.js","original":{"line":73,"column":10}},{"generated":{"line":74,"column":0},"source":"src/js/app.js","original":{"line":69,"column":29}},{"generated":{"line":74,"column":3},"source":"src/js/app.js","original":{"line":69,"column":12}},{"generated":{"line":74,"column":4},"source":"src/js/app.js","original":{"line":69,"column":2}},{"generated":{"line":75,"column":0},"source":"src/js/app.js","original":{"line":76,"column":2}},{"name":"marker","generated":{"line":75,"column":6},"source":"src/js/app.js","original":{"line":76,"column":6}},{"generated":{"line":75,"column":12},"source":"src/js/app.js","original":{"line":76,"column":12}},{"generated":{"line":75,"column":15},"source":"src/js/app.js","original":{"line":76,"column":15}},{"name":"mapboxgl","generated":{"line":75,"column":19},"source":"src/js/app.js","original":{"line":76,"column":19}},{"generated":{"line":75,"column":27},"source":"src/js/app.js","original":{"line":76,"column":27}},{"name":"Marker","generated":{"line":75,"column":28},"source":"src/js/app.js","original":{"line":76,"column":28}},{"generated":{"line":75,"column":34},"source":"src/js/app.js","original":{"line":76,"column":15}},{"name":"setLngLat","generated":{"line":75,"column":37},"source":"src/js/app.js","original":{"line":77,"column":5}},{"generated":{"line":75,"column":46},"source":"src/js/app.js","original":{"line":76,"column":15}},{"generated":{"line":75,"column":47},"source":"src/js/app.js","original":{"line":77,"column":15}},{"name":"lon","generated":{"line":75,"column":48},"source":"src/js/app.js","original":{"line":77,"column":16}},{"generated":{"line":75,"column":51},"source":"src/js/app.js","original":{"line":77,"column":15}},{"name":"lat","generated":{"line":75,"column":53},"source":"src/js/app.js","original":{"line":77,"column":21}},{"generated":{"line":75,"column":56},"source":"src/js/app.js","original":{"line":77,"column":15}},{"generated":{"line":75,"column":57},"source":"src/js/app.js","original":{"line":76,"column":15}},{"name":"addTo","generated":{"line":75,"column":59},"source":"src/js/app.js","original":{"line":78,"column":5}},{"generated":{"line":75,"column":64},"source":"src/js/app.js","original":{"line":76,"column":15}},{"name":"map","generated":{"line":75,"column":65},"source":"src/js/app.js","original":{"line":78,"column":11}},{"generated":{"line":75,"column":68},"source":"src/js/app.js","original":{"line":76,"column":15}},{"generated":{"line":75,"column":69},"source":"src/js/app.js","original":{"line":76,"column":2}},{"name":"POI","generated":{"line":76,"column":0},"source":"src/js/app.js","original":{"line":80,"column":2}},{"name":"POI","generated":{"line":76,"column":2},"source":"src/js/app.js","original":{"line":80,"column":2}},{"generated":{"line":76,"column":5},"source":"src/js/app.js","original":{"line":80,"column":5}},{"name":"addEventListener","generated":{"line":76,"column":6},"source":"src/js/app.js","original":{"line":80,"column":6}},{"generated":{"line":76,"column":22},"source":"src/js/app.js","original":{"line":80,"column":2}},{"generated":{"line":76,"column":23},"source":"src/js/app.js","original":{"line":80,"column":23}},{"generated":{"line":76,"column":30},"source":"src/js/app.js","original":{"line":80,"column":2}},{"generated":{"line":76,"column":32},"source":"src/js/app.js","original":{"line":80,"column":32}},{"name":"e","generated":{"line":76,"column":42},"source":"src/js/app.js","original":{"line":80,"column":32}},{"generated":{"line":76,"column":43},"source":"src/js/app.js","original":{"line":80,"column":33}},{"generated":{"line":76,"column":45},"source":"src/js/app.js","original":{"line":80,"column":37}},{"generated":{"line":77,"column":0},"source":"src/js/app.js","original":{"line":81,"column":4}},{"name":"e","generated":{"line":77,"column":8},"source":"src/js/app.js","original":{"line":81,"column":8}},{"generated":{"line":77,"column":9},"source":"src/js/app.js","original":{"line":81,"column":9}},{"name":"target","generated":{"line":77,"column":10},"source":"src/js/app.js","original":{"line":81,"column":10}},{"generated":{"line":77,"column":16},"source":"src/js/app.js","original":{"line":81,"column":8}},{"name":"tagName","generated":{"line":77,"column":17},"source":"src/js/app.js","original":{"line":81,"column":17}},{"generated":{"line":77,"column":24},"source":"src/js/app.js","original":{"line":81,"column":8}},{"generated":{"line":77,"column":29},"source":"src/js/app.js","original":{"line":81,"column":29}},{"generated":{"line":77,"column":33},"source":"src/js/app.js","original":{"line":81,"column":4}},{"generated":{"line":77,"column":35},"source":"src/js/app.js","original":{"line":81,"column":35}},{"generated":{"line":78,"column":0},"source":"src/js/app.js","original":{"line":82,"column":6}},{"name":"longti","generated":{"line":78,"column":10},"source":"src/js/app.js","original":{"line":82,"column":10}},{"generated":{"line":78,"column":16},"source":"src/js/app.js","original":{"line":82,"column":16}},{"name":"e","generated":{"line":78,"column":19},"source":"src/js/app.js","original":{"line":82,"column":19}},{"generated":{"line":78,"column":20},"source":"src/js/app.js","original":{"line":82,"column":20}},{"name":"target","generated":{"line":78,"column":21},"source":"src/js/app.js","original":{"line":82,"column":21}},{"generated":{"line":78,"column":27},"source":"src/js/app.js","original":{"line":82,"column":19}},{"name":"closest","generated":{"line":78,"column":28},"source":"src/js/app.js","original":{"line":82,"column":28}},{"generated":{"line":78,"column":35},"source":"src/js/app.js","original":{"line":82,"column":19}},{"generated":{"line":78,"column":36},"source":"src/js/app.js","original":{"line":82,"column":36}},{"generated":{"line":78,"column":49},"source":"src/js/app.js","original":{"line":82,"column":19}},{"name":"getAttribute","generated":{"line":78,"column":51},"source":"src/js/app.js","original":{"line":82,"column":51}},{"generated":{"line":78,"column":63},"source":"src/js/app.js","original":{"line":82,"column":19}},{"generated":{"line":78,"column":64},"source":"src/js/app.js","original":{"line":82,"column":64}},{"generated":{"line":78,"column":75},"source":"src/js/app.js","original":{"line":82,"column":19}},{"generated":{"line":78,"column":76},"source":"src/js/app.js","original":{"line":82,"column":6}},{"generated":{"line":79,"column":0},"source":"src/js/app.js","original":{"line":83,"column":6}},{"name":"lati","generated":{"line":79,"column":10},"source":"src/js/app.js","original":{"line":83,"column":10}},{"generated":{"line":79,"column":14},"source":"src/js/app.js","original":{"line":83,"column":14}},{"name":"e","generated":{"line":79,"column":17},"source":"src/js/app.js","original":{"line":83,"column":17}},{"generated":{"line":79,"column":18},"source":"src/js/app.js","original":{"line":83,"column":18}},{"name":"target","generated":{"line":79,"column":19},"source":"src/js/app.js","original":{"line":83,"column":19}},{"generated":{"line":79,"column":25},"source":"src/js/app.js","original":{"line":83,"column":17}},{"name":"closest","generated":{"line":79,"column":26},"source":"src/js/app.js","original":{"line":83,"column":26}},{"generated":{"line":79,"column":33},"source":"src/js/app.js","original":{"line":83,"column":17}},{"generated":{"line":79,"column":34},"source":"src/js/app.js","original":{"line":83,"column":34}},{"generated":{"line":79,"column":47},"source":"src/js/app.js","original":{"line":83,"column":17}},{"name":"getAttribute","generated":{"line":79,"column":49},"source":"src/js/app.js","original":{"line":83,"column":49}},{"generated":{"line":79,"column":61},"source":"src/js/app.js","original":{"line":83,"column":17}},{"generated":{"line":79,"column":62},"source":"src/js/app.js","original":{"line":83,"column":62}},{"generated":{"line":79,"column":72},"source":"src/js/app.js","original":{"line":83,"column":17}},{"generated":{"line":79,"column":73},"source":"src/js/app.js","original":{"line":83,"column":6}},{"name":"map","generated":{"line":80,"column":0},"source":"src/js/app.js","original":{"line":84,"column":6}},{"name":"map","generated":{"line":80,"column":6},"source":"src/js/app.js","original":{"line":84,"column":6}},{"generated":{"line":80,"column":9},"source":"src/js/app.js","original":{"line":84,"column":9}},{"name":"flyTo","generated":{"line":80,"column":10},"source":"src/js/app.js","original":{"line":84,"column":10}},{"generated":{"line":80,"column":15},"source":"src/js/app.js","original":{"line":84,"column":6}},{"generated":{"line":80,"column":16},"source":"src/js/app.js","original":{"line":84,"column":16}},{"name":"center","generated":{"line":81,"column":0},"source":"src/js/app.js","original":{"line":85,"column":8}},{"name":"center","generated":{"line":81,"column":8},"source":"src/js/app.js","original":{"line":85,"column":8}},{"generated":{"line":81,"column":14},"source":"src/js/app.js","original":{"line":85,"column":14}},{"generated":{"line":81,"column":16},"source":"src/js/app.js","original":{"line":85,"column":16}},{"name":"longti","generated":{"line":81,"column":17},"source":"src/js/app.js","original":{"line":85,"column":17}},{"generated":{"line":81,"column":23},"source":"src/js/app.js","original":{"line":85,"column":16}},{"name":"lati","generated":{"line":81,"column":25},"source":"src/js/app.js","original":{"line":85,"column":25}},{"generated":{"line":81,"column":29},"source":"src/js/app.js","original":{"line":85,"column":16}},{"generated":{"line":81,"column":30},"source":"src/js/app.js","original":{"line":84,"column":16}},{"name":"essential","generated":{"line":82,"column":0},"source":"src/js/app.js","original":{"line":86,"column":8}},{"name":"essential","generated":{"line":82,"column":8},"source":"src/js/app.js","original":{"line":86,"column":8}},{"generated":{"line":82,"column":17},"source":"src/js/app.js","original":{"line":86,"column":17}},{"generated":{"line":82,"column":19},"source":"src/js/app.js","original":{"line":86,"column":19}},{"generated":{"line":83,"column":0},"source":"src/js/app.js","original":{"line":84,"column":16}},{"generated":{"line":83,"column":7},"source":"src/js/app.js","original":{"line":84,"column":6}},{"name":"marker","generated":{"line":84,"column":0},"source":"src/js/app.js","original":{"line":88,"column":6}},{"name":"marker","generated":{"line":84,"column":6},"source":"src/js/app.js","original":{"line":88,"column":6}},{"generated":{"line":84,"column":12},"source":"src/js/app.js","original":{"line":88,"column":12}},{"name":"remove","generated":{"line":84,"column":13},"source":"src/js/app.js","original":{"line":88,"column":13}},{"generated":{"line":84,"column":19},"source":"src/js/app.js","original":{"line":88,"column":6}},{"name":"marker","generated":{"line":85,"column":0},"source":"src/js/app.js","original":{"line":89,"column":6}},{"name":"marker","generated":{"line":85,"column":6},"source":"src/js/app.js","original":{"line":89,"column":6}},{"generated":{"line":85,"column":12},"source":"src/js/app.js","original":{"line":89,"column":12}},{"name":"setLngLat","generated":{"line":85,"column":13},"source":"src/js/app.js","original":{"line":89,"column":13}},{"generated":{"line":85,"column":22},"source":"src/js/app.js","original":{"line":89,"column":6}},{"generated":{"line":85,"column":23},"source":"src/js/app.js","original":{"line":89,"column":23}},{"name":"longti","generated":{"line":85,"column":24},"source":"src/js/app.js","original":{"line":89,"column":24}},{"generated":{"line":85,"column":30},"source":"src/js/app.js","original":{"line":89,"column":23}},{"name":"lati","generated":{"line":85,"column":32},"source":"src/js/app.js","original":{"line":89,"column":32}},{"generated":{"line":85,"column":36},"source":"src/js/app.js","original":{"line":89,"column":23}},{"generated":{"line":85,"column":37},"source":"src/js/app.js","original":{"line":89,"column":6}},{"name":"addTo","generated":{"line":85,"column":39},"source":"src/js/app.js","original":{"line":89,"column":39}},{"generated":{"line":85,"column":44},"source":"src/js/app.js","original":{"line":89,"column":6}},{"name":"map","generated":{"line":85,"column":45},"source":"src/js/app.js","original":{"line":89,"column":45}},{"generated":{"line":85,"column":48},"source":"src/js/app.js","original":{"line":89,"column":6}},{"generated":{"line":86,"column":0},"source":"src/js/app.js","original":{"line":90,"column":5}},{"generated":{"line":87,"column":0},"source":"src/js/app.js","original":{"line":91,"column":3}},{"generated":{"line":87,"column":3},"source":"src/js/app.js","original":{"line":80,"column":2}},{"generated":{"line":88,"column":0},"source":"src/js/app.js","original":{"line":92,"column":1}},{"name":"form","generated":{"line":90,"column":0},"source":"src/js/app.js","original":{"line":94,"column":0}},{"generated":{"line":90,"column":4},"source":"src/js/app.js","original":{"line":94,"column":4}},{"name":"onsubmit","generated":{"line":90,"column":5},"source":"src/js/app.js","original":{"line":94,"column":5}},{"generated":{"line":90,"column":13},"source":"src/js/app.js","original":{"line":94,"column":0}},{"generated":{"line":90,"column":16},"source":"src/js/app.js","original":{"line":94,"column":16}},{"name":"e","generated":{"line":90,"column":26},"source":"src/js/app.js","original":{"line":94,"column":16}},{"generated":{"line":90,"column":27},"source":"src/js/app.js","original":{"line":94,"column":17}},{"generated":{"line":90,"column":29},"source":"src/js/app.js","original":{"line":94,"column":21}},{"generated":{"line":91,"column":0},"source":"src/js/app.js","original":{"line":95,"column":2}},{"name":"input","generated":{"line":91,"column":6},"source":"src/js/app.js","original":{"line":95,"column":6}},{"generated":{"line":91,"column":11},"source":"src/js/app.js","original":{"line":95,"column":11}},{"name":"e","generated":{"line":91,"column":14},"source":"src/js/app.js","original":{"line":95,"column":14}},{"generated":{"line":91,"column":15},"source":"src/js/app.js","original":{"line":95,"column":15}},{"name":"target","generated":{"line":91,"column":16},"source":"src/js/app.js","original":{"line":95,"column":16}},{"generated":{"line":91,"column":22},"source":"src/js/app.js","original":{"line":95,"column":14}},{"name":"querySelector","generated":{"line":91,"column":23},"source":"src/js/app.js","original":{"line":95,"column":23}},{"generated":{"line":91,"column":36},"source":"src/js/app.js","original":{"line":95,"column":14}},{"generated":{"line":91,"column":37},"source":"src/js/app.js","original":{"line":95,"column":37}},{"generated":{"line":91,"column":44},"source":"src/js/app.js","original":{"line":95,"column":14}},{"generated":{"line":91,"column":45},"source":"src/js/app.js","original":{"line":95,"column":2}},{"name":"forwardGeoCoding","generated":{"line":92,"column":0},"source":"src/js/app.js","original":{"line":96,"column":2}},{"name":"forwardGeoCoding","generated":{"line":92,"column":2},"source":"src/js/app.js","original":{"line":96,"column":2}},{"generated":{"line":92,"column":18},"source":"src/js/app.js","original":{"line":96,"column":18}},{"name":"input","generated":{"line":92,"column":19},"source":"src/js/app.js","original":{"line":96,"column":19}},{"generated":{"line":92,"column":24},"source":"src/js/app.js","original":{"line":96,"column":24}},{"name":"value","generated":{"line":92,"column":25},"source":"src/js/app.js","original":{"line":96,"column":25}},{"generated":{"line":92,"column":30},"source":"src/js/app.js","original":{"line":96,"column":18}},{"generated":{"line":92,"column":31},"source":"src/js/app.js","original":{"line":96,"column":2}},{"name":"e","generated":{"line":93,"column":0},"source":"src/js/app.js","original":{"line":97,"column":2}},{"name":"e","generated":{"line":93,"column":2},"source":"src/js/app.js","original":{"line":97,"column":2}},{"generated":{"line":93,"column":3},"source":"src/js/app.js","original":{"line":97,"column":3}},{"name":"preventDefault","generated":{"line":93,"column":4},"source":"src/js/app.js","original":{"line":97,"column":4}},{"generated":{"line":93,"column":18},"source":"src/js/app.js","original":{"line":97,"column":2}},{"generated":{"line":94,"column":0},"source":"src/js/app.js","original":{"line":98,"column":1}},{"generated":{"line":94,"column":1},"source":"src/js/app.js","original":{"line":94,"column":0}},{"name":"window","generated":{"line":96,"column":0},"source":"src/js/app.js","original":{"line":100,"column":0}},{"generated":{"line":96,"column":6},"source":"src/js/app.js","original":{"line":100,"column":6}},{"name":"addEventListener","generated":{"line":96,"column":7},"source":"src/js/app.js","original":{"line":100,"column":7}},{"generated":{"line":96,"column":23},"source":"src/js/app.js","original":{"line":100,"column":0}},{"generated":{"line":96,"column":24},"source":"src/js/app.js","original":{"line":100,"column":24}},{"generated":{"line":96,"column":30},"source":"src/js/app.js","original":{"line":100,"column":0}},{"name":"getLocation","generated":{"line":96,"column":32},"source":"src/js/app.js","original":{"line":100,"column":32}},{"generated":{"line":96,"column":43},"source":"src/js/app.js","original":{"line":100,"column":0}}],"sources":{"src/js/app.js":"// phase 1: Get location, draw a map, center the map on this location and drop a marker\r\n// . detect user location using Geolocation API\r\n// . import Mapbox GL JS library \r\n// . drop a marker indicating curr location\r\n\r\n// phase 2: Using user location, perform a foward geocode for POI, determine distance\r\n// to each and display them\r\n// . Forward geocode a location. Forward Geocoding converts location text into geographic coordinates\r\n// . Use users current location, to help set the proximity when forward geocoding\r\n// . Figure out how to calculate the distance between 2 sets of coordinates. \r\n// . Sort the POI returned by the forward geocoding based on distance to the user, in ascending order.\r\n// . output the listing\r\n\r\n// phase 3: User can click on POI, and map will adjust to drop new marker n recenter on that POI\r\n// . Add an event listener to your points-of-interest list\r\n// . Remove the existing marker, drop a new marker and recenter the map\r\n//  Other requirement:\r\n// . You should only retrieve poi from your forward geocode.\r\n// . You should retrieve the maximum results possible (10) from your forward geocode.\r\n\r\nconst token = 'pk.eyJ1Ijoibmd1eWVuaHVuZ3BodTc3NyIsImEiOiJja2psanoxOXAwemg5MnFxeXQyMHV6M2s4In0.Mmge4RRo03t0OWuVuHSdKQ';\r\nconst POI = document.querySelector('.points-of-interest')\r\nconst form = document.querySelector('form');\r\nconst haversine = require('haversine');\r\nlet long, lat;\r\n\r\n\r\nfunction getLocation() {\r\n  if ('geolocation' in navigator) {\r\n    navigator.geolocation.getCurrentPosition(position => {\r\n      long = position.coords.longitude;\r\n      lat = position.coords.latitude;\r\n      success(long, lat);\r\n    })\r\n  }\r\n  POI.innerHTML = \"\";\r\n}\r\n\r\nfunction renderPOI(arrayOfPOI) {\r\n  POI.innerHTML = \"\";\r\n  arrayOfPOI.features.forEach(element => {\r\n\r\n    let locationAddress = element['place_name'].split(',');\r\n    let start = { latitude: lat, longitude: long };\r\n    let end = { latitude: element.center[1], longitude: element.center[0] };\r\n    let distance = haversine(start, end, { unit: 'meter' })\r\n\r\n    POI.insertAdjacentHTML('beforeend', `\r\n    <li class=\"poi\" data-long=${element.center[0]} data-lat=${element.center[1]}>\r\n    <ul>\r\n      <li class=\"name\">${element.text}\r\n      </li><li class=\"street-address\">${locationAddress[1]}\r\n      </li><li class=\"distance\">${(distance / 1000).toFixed(1)} Km\r\n    </li></ul>\r\n    </li>\r\n    `)\r\n  });\r\n}\r\n\r\nfunction forwardGeoCoding(location) {\r\n  fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${location}.json?&proximity=${long},${lat}&types=poi&limit=10&access_token=pk.eyJ1Ijoibmd1eWVuaHVuZ3BodTc3NyIsImEiOiJja2psanoxOXAwemg5MnFxeXQyMHV6M2s4In0.Mmge4RRo03t0OWuVuHSdKQ`)\r\n    .then(resp => resp.json())\r\n    .then(data => renderPOI(data))\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nfunction success(lon, lat) {\r\n  mapboxgl.accessToken = token;\r\n  let map = new mapboxgl.Map({\r\n    container: 'map',\r\n    style: 'mapbox://styles/mapbox/streets-v11', \r\n    center: [lon, lat], \r\n    zoom: 15 \r\n  });\r\n\r\n  let marker = new mapboxgl.Marker()\r\n    .setLngLat([lon, lat])\r\n    .addTo(map);\r\n\r\n  POI.addEventListener('click', e => {\r\n    if (e.target.tagName === 'LI') {\r\n      let longti = e.target.closest('ul > li.poi').getAttribute('data-long')\r\n      let lati = e.target.closest('ul > li.poi').getAttribute('data-lat')\r\n      map.flyTo({\r\n        center: [longti, lati],\r\n        essential: true\r\n      })\r\n      marker.remove();\r\n      marker.setLngLat([longti, lati]).addTo(map)\r\n    }\r\n  })\r\n}\r\n\r\nform.onsubmit = e => {\r\n  let input = e.target.querySelector('input');\r\n  forwardGeoCoding(input.value);\r\n  e.preventDefault();\r\n}\r\n\r\nwindow.addEventListener('load', getLocation);"},"lineCount":null}},"error":null,"hash":"a291a36b5dca61311e89903bb1dcd46b","cacheData":{"env":{}}}